{% extends "layout.html.twig" %}
{% block title %}{{ 'security.login.title'|trans }}{% endblock %}
{% block meta_title %}{{ 'security.login.title'|trans }}{% endblock %}
{% block head %}
    <link rel="canonical" href="{{ absolute_url(path('security_login')) }}">
    <meta name="description" content="{{ "Me connecter à mon compte Belatika"|gTransDB }}">
    <link rel="stylesheet" href="{{ asset('css/bootstrap-social.css') }}">
{% endblock %}
{% block content %}
    <div class="container my-3">
        <div class="row">
            {% if error %}
                <p class="alert alert-danger text-center col-12">{{ error.messageKey|trans(error.messageData) }}</p>
            {% endif %}
            <p class="alert alert-bt-info text-center col-12">{{ 'Pour accéder à cette page, vous devez vous identifier.'|gTrans }}</p>
        </div>

        <div class="row d-flex justify-content-between pb-5">
            <div class="flex-grow-1 mr-2 d-flex flex-column justify-content-between align-items-xl-start">
                <h2>{{ 'Me connecter avec mon réseau social'|gTrans }}:</h2>
                <p>{{ 'Connectez-vous d\'un simple clic en utilisant le réseau social de votre choix'|gTrans }}:</p>
                <div class="d-flex flex-column align-self-center align-self-xl-auto">
                    <a class="btn btn-social btn-facebook my-2" href="{{ path('connect_facebook_start') }}">
                        <i class="fab fa-facebook-f"></i> {{ 'Se connecter avec Facebook'|gTrans }}
                    </a>
                    <a class="btn btn-social btn-google" href="{{ path('connect_google_start') }}">
                        <i class="fab fa-google"></i> {{ 'Se connecter avec Google'|gTrans }}
                    </a>
                </div>
            </div>
            <div class="flex-grow-1 ml-2 d-flex flex-column justify-content-between">
                <h2>{{ 'Me connecter avec mes identifiants'|gTrans }} :</h2>
                <form method="post">
                    <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                    <div class="form-group row">
                        <label class="col-sm-6 col-form-label" for="inputEmail">{{ 'form.email'|trans }}</label>
                        <div class="col-sm-6">
                            <input class="form-control" type="email" id="inputEmail" name="email" value="{{ last_username }}" required autofocus>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-6 col-form-label" for="inputPassword">{{ 'form.password'|trans }}</label>
                        <div class="col-sm-6">
                            <input class="form-control" type="password" id="inputPassword" name="password" required>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-6 order-sm-2">
                            <input class="btn bt-btn--primary float-sm-right" type="submit" value="{{ 'security.login.submit'|trans }}" />
                        </div>
                        <div class="col-sm-6 order-sm-1 mt-2 mt-sm-0">
                            <a href="{{ path('security_password_request') }}">{{ 'resetting.request.title'|trans }}</a>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <div class="row">
            <p class="col-12">{{ 'Je ne possède pas encore de compte'|gTrans }}: <a class="btn btn-sm bt-btn--primary" href="{{ path('security_register') }}">{{ 'layout.register'|trans }}</a></p>
        </div>
    </div>
{% endblock %}
